WebRO (Web interface to Repository Observer)
============================================

Веб-интерфейс к системе RO (Repository Observer), предназначенной для
отслеживания соответствия пакетов, установленных на рабочих системах,
репозиториям, с которыми эти системы связаны.

Изначально система RO рассчитана на работу с системой управления пакетами RPM и
тестировалась при работе с дистрибутивами ALT Linux Sisyphus.

Веб-интерфейс представляет собой скрипт, написанный на языке Perl и
предназначенный для работы в режиме Fast-CGI приложения. Также в состав WebRO
входят модули, реализующие бизнес-логику интерфейса, шаблоны для генерации
HTML-документов "на лету", а также статические файлы (изображения и каскадные
таблицы стилей, CSS), использующиеся в оформлении HTML-документов.

Системные требования
====================

Для нормальной работы веб-интерфейса требуются следующие Perl-модули:

* CGI::Fast
* DBI (+ DBD-модуль взаимодействия с выбранной СУБД)
* Exporter
* Template

Веб-интерфейс тестировался при работе совместно с веб-сервером lighttpd.

Описание WebRO
==============

В БД системы RO содержится информация об узлах системы и о пакетах,
соответствующих этим узлам (т.е. установленным на рабочих системах и доступным
в репозиториях и псевдорепозиториях).

Каждому узлу соответствует собственный уникальный идентификатор (максимум 32
символа).

Веб-интерфейс WebRO является однопользовательским, все вопросы, связанные с
ограничением доступа к нему возлагаются на внешний веб-сервер.

Функциональные возможности WebRO включают в себя:

* Возможность добавления в БД информации о новом узле;
* Возможность изменения информации о добавленном узле;
* Возможность удаления из БД информации об узле;
* Просмотр списка известных узлов с указанием их текущего состояния в плане
  необходимости проведения обновления;
* Просмотр детальной информации об узле, с указанием связанных с ним узлов, а
  также списка пакетов узла, требующих обновления;
* Просмотр списка всех известных системе RO пакетов с указанием необходимости
  их обновления на каких-либо узлах;
* Просмотр детальной информации о пакете с указанием рабочих систем, на которых
  он установлен, и репозиториев, в которых он содержится.

В целях повышения скорости и эффективности работы WebRO, все запросы к БД в нём
кешируются, что может привести к постепенному увеличению объёма занимаемой
приложением памяти.

Установка WebRO
===============

При установке WebRO следует соблюдать следующие правила:

* Директории с шаблонами и модулями WebRO должны размещаться в той же
  директории, что и серверный скрипт WebRO.
* Выдача статических файлов WebRO является задачей внешнего веб-сервера,
  соответственно место их размещения зависит от его конфигурации. URL для
  доступа к статическим файлам WebRO указывается в конфигурации WebRO.

Формат конфигурационного файла
==============================

Конфигурационный файл представляет собой фрагмент кода, написанного на языке
Perl и представляющего собой ассоциативный массив (хеш), ключами которого
являются конфигурационные параметры.

Файл конфигурации должен называться 'config' и находиться в той же директории,
что и серверный скрипт.

Шаблон типовой конфигурации приведён в файле 'config'.

Пример фрагмента конфигурации lighttpd
======================================
-------------------------------------------------------------------------------

 fastcgi.server = (
        "/webro/" => (
	        "webro" => (
	    		"socket" => "/tmp/webro.socket",
	                "check-local" => "disable",
			"bin-path" => "/var/www/perl/webro.pl",
			"min-procs"    => 2,
			"max-procs"    => 5,
			"idle-timeout" => 20
		)
       )
 )

-------------------------------------------------------------------------------							